(window.webpackJsonp=window.webpackJsonp||[]).push([[16,4,5,6,11],{258:function(e,t,r){"use strict";r.r(t);var n={props:{text:{type:String,default:function(){return""}},hollow:{type:Boolean,default:function(){return!1}},icon:{type:String,default:function(){return null}}},data:function(){return{fullClasses:"h-12 bg-blue-400 rounded-full px-7 py-3 hover:text-white hover:bg-blue-500",hollowClasses:"h-12 bg-white border border-blue-400 rounded-full px-7 py-3 hover:text-white hover:bg-blue-500 hover:border-blue-500"}}},l=r(44),component=Object(l.a)(n,(function(){var e=this,t=e._self._c;return t("button",{class:e.hollow?e.hollowClasses:e.fullClasses,on:{click:function(t){return t.stopPropagation(),e.$emit("click")}}},[t("div",{staticClass:"flex justify-between items-center h-full gap-2"},[e.icon?t("img",{staticClass:"h-full",attrs:{src:"/icons/".concat(e.icon,".png")}}):e._e(),e._v(" "),t("span",{class:{"text-white":!e.hollow}},[e._v(" "+e._s(e.text)+" ")])])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Button:r(258).default})},259:function(e,t,r){"use strict";r.r(t);r(37);var n={props:{backRedirect:{type:String,default:function(){return""}},goBack:{type:Boolean,default:function(){return!1}},backRedirectReplace:{type:Boolean,default:function(){return!1}},backRedirectQuery:{type:Object,default:function(){}}},data:function(){return{name:localStorage.getItem("name"),userId:localStorage.getItem("userId")}}},l=r(44),component=Object(l.a)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"h-10 w-screen items-center bg-blue-500 flex flex-row gap-3 fixed px-4 text-white z-40"},[t("NuxtLink",{directives:[{name:"show",rawName:"v-show",value:e.backRedirect,expression:"backRedirect"}],staticClass:"h-2/4 cursor-pointer",attrs:{to:{path:e.backRedirect,query:e.backRedirectQuery},replace:e.backRedirectReplace}},[t("img",{staticClass:"h-full",attrs:{src:"/icons/back.png"}})]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.backRedirect&&e.goBack,expression:"!backRedirect && goBack"}],staticClass:"h-2/4 cursor-pointer",on:{click:function(t){return e.$router.go(-1)}}},[t("img",{staticClass:"h-full",attrs:{src:"/icons/back.png"}})]),e._v(" "),t("div",{staticClass:"h-full flex-grow"}),e._v(" "),t("div",{staticClass:"h-full absolute left-10"},[t("NuxtLink",{attrs:{to:"/"}},[t("img",{staticClass:"h-full",attrs:{src:"/title.png"}})])],1),e._v(" "),t("div",{staticClass:"text-sm"},[e._v("\n    "+e._s(e.name)+"\n  ")]),e._v(" "),e.name&&e.name.length>0?t("NuxtLink",{staticClass:"h-2/4 cursor-pointer",attrs:{to:{path:"/user",query:{userId:e.userId}}}},[t("img",{staticClass:"h-full",attrs:{src:"/icons/user.png"}})]):e._e()],1)}),[],!1,null,null,null);t.default=component.exports},260:function(e,t,r){"use strict";r.r(t);var n=r(44),component=Object(n.a)({},(function(){return(0,this._self._c)("div",{staticClass:"bg-black bg-opacity-70 w-screen h-screen fixed z-50"})}),[],!1,null,null,null);t.default=component.exports},261:function(e,t,r){"use strict";r.r(t);var n={props:{value:{type:String,default:function(){return""}},type:{type:String,default:function(){return""}}}},l=r(44),component=Object(l.a)(n,(function(){var e=this;return(0,e._self._c)("input",{staticClass:"w-72 border border-blue-400 rounded-full px-5 py-2",attrs:{type:e.type?e.type:"text"},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)},change:function(t){return e.$emit("change",t)}}})}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Input:r(261).default})},279:function(e,t,r){"use strict";r.r(t);r(37),r(102),r(46),r(47),r(26),r(25),r(31),r(45),r(48),r(27);var n=r(9);r(30),r(191),r(14);function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,d=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){d=!0,l=e},f:function(){try{c||null==r.return||r.return()}finally{if(d)throw l}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var c={data:function(){return{availableLockers:[],loading:!0}},computed:{selectedLockers:function(){var e,t=[],r=l(this.availableLockers);try{for(r.s();!(e=r.n()).done;){var n=e.value;n.selected&&t.push(n.id)}}catch(e){r.e(e)}finally{r.f()}return t}},mounted:function(){this.getAllLockers()},methods:{getAllLockers:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,c,d,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$callApi("/api/lockerList","GET");case 2:return r=t.sent,n=[],r.data&&(n=r.data.lockerList),t.next=7,e.$callApi("/api/user/"+localStorage.getItem("userId"),"GET");case 7:r=t.sent,o=[],r.data&&(o=r.data.user.lockerList),c=l(o);try{for(f=function(){var e=d.value;n.find((function(element){return element.id==e.id})).selected=!0},c.s();!(d=c.n()).done;)f()}catch(e){c.e(e)}finally{c.f()}e.availableLockers=n,e.loading=!1;case 14:case"end":return t.stop()}}),t)})))()},save:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$callApi("/api/saveUserLockers","POST",{lockers:e.selectedLockers});case 3:(r=t.sent).error?400==r.errorStatus&&alert("Selezionare almeno un locker"):e.cancel(),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},cancel:function(){var e;"signup"==(null===(e=this.$nuxt.context.from)||void 0===e?void 0:e.name)?this.$router.push("/"):this.$router.go(-1)}}},d=r(44),component=Object(d.a)(c,(function(){var e,t=this,r=t._self._c;return r("div",[r("Loader",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]}),t._v(" "),r("TopBar",{attrs:{"go-back":"signup"!=(null===(e=t.$nuxt.context.from)||void 0===e?void 0:e.name)}}),t._v(" "),r("div",{staticClass:"text-center w-11/12 m-auto mb-6 justify-around gap-24 pt-12"},[r("div",{staticClass:"text-center mb-3 text-2xl"},[t._v("\n      Seleziona i locker vicini a te (nella tua provincia):\n    ")]),t._v(" "),r("div",t._l(t.availableLockers,(function(e){return r("div",{key:e.id},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"locker.selected"}],attrs:{id:"locker-".concat(e.id),type:"checkbox"},domProps:{checked:Array.isArray(e.selected)?t._i(e.selected,null)>-1:e.selected},on:{change:function(r){var n=e.selected,l=r.target,o=!!l.checked;if(Array.isArray(n)){var c=t._i(n,null);l.checked?c<0&&t.$set(e,"selected",n.concat([null])):c>-1&&t.$set(e,"selected",n.slice(0,c).concat(n.slice(c+1)))}else t.$set(e,"selected",o)}}}),t._v(" "),r("label",{attrs:{for:"locker-".concat(e.id)}},[t._v(" "+t._s(e.name)+" ("+t._s(e.address)+", "+t._s(e.province)+") ")])])})),0),t._v(" "),r("div",{staticClass:"mt-4"},[r("Button",{attrs:{text:"Annulla",hollow:""},on:{click:function(e){return t.cancel()}}}),t._v(" "),r("Button",{directives:[{name:"show",rawName:"v-show",value:t.selectedLockers.length>0,expression:"selectedLockers.length > 0"}],attrs:{text:"Salva"},on:{click:function(e){return t.save()}}})],1)])],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Loader:r(260).default,TopBar:r(259).default,Input:r(261).default,Button:r(258).default})}}]);